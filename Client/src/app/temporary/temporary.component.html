<mat-stepper orientation="vertical" [linear]="isLinear" #stepper>

    <!-- Step 1: Fill out your identity number -->
    <mat-step [stepControl]="form.controls['identity']">
      <ng-template matStepLabel>Fill out your identity number</ng-template>
      <form [formGroup]="form">
        <mat-form-field>
          <mat-label>Identity Number</mat-label>
          <input matInput formControlName="identity" placeholder="Enter your identity number" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
  
    <!-- Step 2: Fill out your name -->
    <mat-step [stepControl]="form.controls['firstName']">
      <ng-template matStepLabel>Fill out your name</ng-template>
      <form [formGroup]="form">
        <mat-form-field>
          <mat-label>First Name</mat-label>
          <input matInput placeholder="Enter your first name" formControlName="firstName" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
  
    <!-- Step 3: Last name -->
    <mat-step [stepControl]="form.controls['lastName']">
      <ng-template matStepLabel>Last name</ng-template>
      <form [formGroup]="form">
        <mat-form-field>
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" placeholder="Enter your last name" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
  
    <!-- Step 4: Fill out your address -->
    <mat-step [stepControl]="form.controls['address']">
      <ng-template matStepLabel>Fill out your address</ng-template>
      <form [formGroup]="form">
        <mat-form-field>
          <mat-label>Address</mat-label>
          <input matInput formControlName="address" placeholder="Enter your address" required>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
  
    <!-- Step 5: Birthdate -->
    <mat-step [stepControl]="form.controls['birthdate']">
      <ng-template matStepLabel>Birthdate</ng-template>
      <form [formGroup]="form">
        <mat-form-field>
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="picker1" placeholder="Enter your date of birth" formControlName="birthdate" required>
          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
  
      <!-- Steps 1-5: Identity, Name, Address, Birthdate, Gender (unchanged) -->
    
      <!-- Step 6: Select Positions -->
      <mat-step>
        <ng-template matStepLabel>Select Positions</ng-template>
        <form [formGroup]="form">
          <mat-form-field>
            <mat-label>Select Positions</mat-label>
            <mat-select placeholder="Select positions" formControlName="positions" multiple required>
              <mat-option *ngFor="let position of positions" [value]="position">{{ position.positionName.name }}</mat-option>
            </mat-select>
          </mat-form-field>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="addPosition()">Add Position</button>
            <button mat-button matStepperNext>Next</button>
          </div>
        </form>
      </mat-step>
    
      <!-- Step 7: Review Positions -->
      <!-- <mat-step>
        <ng-template matStepLabel>Review Positions</ng-template>
        <div *ngFor="let position of form.get('positions')?.value">
          <p>{{ position.positionName.name }}</p>
          <mat-form-field>
            <mat-label>Date of Entry to the Role</mat-label>
            <input matInput [matDatepicker]="picker" placeholder="Enter date of entry" formControlName="positions[i].startOfWorkDate" required>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="onSubmit()">Submit</button>
        </div>
      </mat-step>
    </mat-stepper>
     -->
     <!-- Step 7: Review Positions -->
  <mat-step>
    <ng-template matStepLabel>Review Positions</ng-template>
    <div *ngFor="let position of form.get('positions')?.value; let i = index">
      <p>{{ position.name }}</p>
      <mat-form-field>
        <mat-label>Date of Entry to the Role</mat-label>
        <input matInput [matDatepicker]="picker" placeholder="Enter date of entry" formControlName="dateOfEntryIntoOffice" required>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="onSubmit()">Submit</button>
    </div>
  </mat-step>
  